document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".fixed--social__button");e&&e.addEventListener("click",(t=>{t.preventDefault();const c=e.querySelector(".fixed--social__open"),l=e.querySelector(".fixed--social__close"),n=document.querySelector(".fixed--social__wrapper");c.classList.toggle("hidden"),l.classList.toggle("active"),n.classList.toggle("active")}));const t=document.querySelector(".search--fixed"),c=document.querySelectorAll(".modal"),l=document.querySelector(".modal--send"),n=document.querySelector(".modal--general"),o=document.querySelector(".modal--question"),s=document.querySelector(".button--catalog"),a=document.querySelector(".header--bottom__nav");function i(e){const t=window.innerWidth-document.documentElement.clientWidth;e.classList.add("active"),document.body.style.paddingRight=`${t}px`,document.documentElement.classList.add("hidden")}function r(){c.forEach((e=>e.classList.remove("active"))),document.body.style.paddingRight="",l.classList.remove("active"),document.documentElement.classList.remove("hidden")}let d=document.querySelectorAll(".menu--burger");const u=document.querySelector(".menu--mobile");function m(e){e.target.closest(".search--fixed.active")||e.target.closest(".search--button")||(t.classList.remove("active"),document.documentElement.classList.remove("hidden"),document.removeEventListener("click",m))}function h(){t.classList.add("active"),document.documentElement.classList.add("hidden"),document.addEventListener("click",m)}d.forEach((e=>{e.addEventListener("click",(()=>{u.classList.add("active"),document.documentElement.classList.add("hidden")}))})),document.querySelector(".menu--mobile__top .menu--burger").addEventListener("click",(()=>{u.classList.remove("active"),document.documentElement.classList.remove("hidden")})),document.querySelectorAll(".search--button").forEach((e=>{e.addEventListener("click",h)})),t.addEventListener("click",(e=>{e.stopPropagation()})),document.querySelectorAll('.menu--mobile__inner li a[href="#"], .products--header__catalog--menu__item li a[href="#"]').forEach((e=>{const t=e.nextElementSibling;t&&e.addEventListener("click",(c=>{c.preventDefault();const l=t.querySelectorAll(".sub-menu");let n=0;l.forEach((e=>{n+=e.scrollHeight})),t.classList.toggle("active"),e.classList.toggle("active")}))})),document.querySelectorAll(".modal--open").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),i(n)}))})),document.querySelectorAll(".modal--openQuestion").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),i(o)}))})),document.querySelectorAll(".modal--close").forEach((e=>{e.addEventListener("click",r)})),s.addEventListener("click",(()=>{const e=s.querySelector(".burger");s.classList.toggle("active"),e.classList.toggle("active"),a.classList.toggle("active")})),document.querySelectorAll(".wpcf7-file").forEach((function(e){let t=e.closest(".file").querySelector(".input__file-button-text"),c=t.innerText;e.addEventListener("change",(function(e){e.preventDefault();let l="";this.files&&this.files.length>=1&&(l=this.files.length),t.innerText=l?"Файлов: "+l:c}))}));((e,t,c)=>{const l=document.querySelectorAll(e);l.length&&l.forEach((e=>{const l=e.querySelector(t),n=e.querySelector(c);"true"===e.dataset.open&&(l.classList.add("active"),n.style.maxHeight=`${n.scrollHeight}px`),l.addEventListener("click",(()=>{"true"!==e.dataset.open?(e.dataset.open="true",l.classList.add("active"),n.style.maxHeight=`${n.scrollHeight}px`):(e.dataset.open="false",l.classList.remove("active"),n.style.maxHeight="")}));window.addEventListener("resize",(()=>{"true"===e.dataset.open&&parseInt(n.style.maxHeight)!==n.scrollHeight&&(n.style.maxHeight=`${n.scrollHeight}px`)}))}))})(".main--faq__item",".main--faq__item--button",".main--faq__item--answer");const g=document.querySelector(".main--faq__item");if(g){const e=g.querySelector(".main--faq__item--button"),t=g.querySelector(".main--faq__item--answer");g.dataset.open="true",e.classList.add("active"),t.style.maxHeight=`${t.scrollHeight}px`}document.querySelectorAll('input[name="fio"]').forEach((e=>{e.addEventListener("keyup",(function(){this.value=this.value.replace(/http|https|url|.net|www|.ru|.com|[0-9]/g,"")}))})),document.querySelectorAll('input[type="text"], textarea, input[type="number"]').forEach((e=>{e.addEventListener("input",(function(){this.value=this.value.replace(/[a-zA-Z]/g,"")})),e.addEventListener("paste",(function(e){e.preventDefault()}))}));let v=function(e){let t=e.target,c=t.dataset.phoneClear,l=t.dataset.phonePattern,n=l||"+_(___) ___-__-__",o=0,s=n.replace(/\D/g,""),a=e.target.value.replace(/\D/g,"");"false"!==c&&"blur"===e.type&&a.length<n.match(/([\_\d])/g).length?e.target.value="":(s.length>=a.length&&(a=s),e.target.value=n.replace(/./g,(function(e){return/[_\d]/.test(e)&&o<a.length?a.charAt(o++):o>=a.length?"":e})))},f=document.querySelectorAll(".wpcf7-tel");for(let e of f)for(let t of["input","blur","focus"])e.addEventListener(t,v);function p(e){const t=e.closest("ul");if(t&&t.classList.contains("visible")){t.style.maxHeight=`${function(e){let t=0;return e.querySelectorAll(":scope > li").forEach((e=>{t+=e.scrollHeight;const c=e.querySelector(":scope > ul.visible");if(c){const e=window.getComputedStyle(c),l=parseInt(e.marginTop,10)||0;t+=c.scrollHeight+l}})),t}(t)}px`;const e=t.closest("li");e&&p(e)}}document.querySelectorAll(".catalog--nav ul > li > a").forEach((e=>{e.addEventListener("click",(t=>{if(e.classList.toggle("active"),"#"===e.getAttribute("href")){t.preventDefault();const c=e.parentElement,l=c.querySelector(":scope > ul");l&&(l.classList.contains("visible")?(l.style.maxHeight=null,l.classList.remove("visible")):(l.style.maxHeight=`${l.scrollHeight}px`,l.classList.add("visible"),p(c)))}}))})),document.querySelectorAll('.la-sentinelle-container input[type="text"]').forEach((e=>{e.addEventListener("change",(()=>{document.querySelectorAll(".wpcf7-submit").forEach((e=>{e.remove()}))}))}));document.querySelectorAll(".video-poster").forEach((e=>{e.addEventListener("click",(()=>{const t=e.getAttribute("data-video-src"),c=e.nextElementSibling,l=c.querySelector("source");t&&c&&l&&(l.src=t,c.style.display="block",c.load(),c.play(),e.style.display="none")}))})),document.addEventListener("click",(e=>{const t=e.target;t.closest(".modal--wrapper")||t.closest(".modal--open")||t.closest(".modal--openQuestion")||t.closest(".wpcf7-file")||t.closest(".input__file-button")||c.forEach((e=>{e.classList.contains("active")&&r()}))}));const y=document.querySelectorAll(".catalog--type__char--item"),L=document.querySelector(".show--char");if(y.length>0&&L){const e=8;y.forEach(((t,c)=>{c>=e&&t.classList.add("hidden")})),L.addEventListener("click",(()=>{const t=y[e]?.classList.contains("hidden");t?(y.forEach((e=>e.classList.remove("hidden"))),L.textContent="Скрыть"):(y.forEach(((t,c)=>{c>=e&&t.classList.add("hidden")})),L.textContent="Все характеристики")}))}function E(){window.matchMedia("(max-width: 992px)").matches&&document.querySelectorAll(".footer--nav span").forEach((e=>{e.addEventListener("click",(()=>{const t=e.nextElementSibling;t&&"UL"===t.tagName&&(t.classList.contains("active")?t.style.maxHeight="0":t.style.maxHeight=t.scrollHeight+"px",t.classList.toggle("active"),e.classList.toggle("active"))}))}))}E(),window.addEventListener("resize",E)}));